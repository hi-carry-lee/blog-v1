## 📋 前端可访问性（a11y）指标清单

### 一、ARIA 属性（aria-\*）

项目已使用部分 ARIA 属性。完整列表如下：

#### 1. 标识属性

- `aria-label` - 为元素提供可访问名称（当前已有：按钮、链接）
- `aria-labelledby` - 引用另一个元素作为标签
- `aria-describedby` - 引用描述文本的元素 ID
- `aria-labelledby` + `aria-describedby` - 组合使用

#### 2. 状态属性

- `aria-invalid` - 表单验证错误（当前已有）
- `aria-disabled` - 禁用状态
- `aria-hidden` - 对屏幕阅读器隐藏装饰性元素
- `aria-expanded` - 折叠/展开状态（下拉菜单、手风琴）
- `aria-selected` - 选择状态（选项卡、列表项）
- `aria-checked` - 复选框/单选按钮状态
- `aria-pressed` - 切换按钮状态

#### 3. 关系属性

- `aria-controls` - 控制的目标元素 ID
- `aria-owns` - 父子关系
- `aria-activedescendant` - 当前激活的子元素（下拉菜单、自动完成）

#### 4. 实时区域属性

- `aria-live` - 动态内容更新提示（"polite", "assertive", "off"）
- `aria-atomic` - 是否读取整个区域
- `aria-busy` - 加载中状态

#### 5. 导航属性

- `aria-current` - 当前页面/步骤（面包屑、分页）
- `aria-orientation` - 方向（水平/垂直滑块）

## 🎯 为什么必须做

- **法律要求**：ADA、Section 508、欧盟 EAA 等法规强制要求
- **用户覆盖**：约 15% 人口有某种残障，不可访问 = 排除大量用户
- **SEO 影响**：Google 将可访问性作为排名因素
- **品牌风险**：可访问性诉讼案例逐年增加

---

## 📋 7 条核心规则

### 1. 键盘可访问 ⚠️ 强制

**所有功能必须可以只用键盘操作**

- 所有按钮、链接、表单用 Tab 键可达
- 焦点顺序合理（从上到下、从左到右）
- 焦点必须可见（不能用 `outline: none` 除非有替代）
- 用 Enter 或 Space 激活按钮
- 用 ESC 关闭模态框、菜单

**原则：鼠标能做的，键盘也必须能做**

---

### 2. 文本替代 ⚠️ 强制

**所有非文本内容必须有文本等价物**

- 所有 `<img>` 必须有 alt 属性
  - 内容图片：描述图片内容
  - 功能性图片：描述功能（如 alt="搜索"）
  - 装饰性图片：alt="" 或 aria-hidden="true"
- 纯图标按钮必须有 aria-label
- 有文字的图标按钮：图标设为 aria-hidden="true"
- 视频需要字幕

**原则：视障用户也能理解所有内容**

---

### 3. 表单标签 ⚠️ 强制

**所有表单控件必须有标签**

- 每个输入框用 `<label>` 关联（通过 htmlFor 和 id）
- 或使用 label 包裹输入框
- 视觉上不需要 label 时，用 aria-label
- 必填字段标记 required 和 aria-required="true"
- 错误提示用 role="alert" 和 aria-describedby 关联

**原则：用户知道每个字段的用途和要求**

---

### 4. 语义化 HTML ⚠️ 强制

**使用正确的 HTML 元素**

- `<html>` 必须有 lang 属性（如 lang="zh-CN"）
- 每页有唯一的 `<title>`，格式：页面名 - 网站名
- 每页只有一个 `<h1>`
- 标题层级不跳级（h1 → h2 → h3）
- 使用语义标签：header、nav、main、article、footer
- 按钮用 `<button>`，不用 `<div onClick>`
- 链接用 `<a>`，不用 `<span onClick>`

**原则：能用原生 HTML 就不用 ARIA**

---

### 5. 颜色对比度 ⚠️ 强制

**文本与背景对比度要足够**

- 普通文本（小于 18pt）：至少 4.5:1
- 大文本（18pt+ 或 14pt 加粗+）：至少 3:1
- 交互元素（按钮边框、焦点环）：至少 3:1
- 用工具检查：WebAIM Contrast Checker、Chrome Lighthouse

**常见问题：**

- ❌ 白底浅灰字（#999）只有 2.85:1 不合格
- ❌ 灰底中灰字对比度不足
- ✅ 深灰字（#333）或纯黑字（#000）对比度合格

**原则：低视力用户能看清文字**

---

### 6. 不只依赖颜色 ⚠️ 强制

**不单独用颜色传递信息**

- 错误提示不只用红色，加上图标或文字（如 "⚠️ 错误："）
- 成功提示加上 "✓ 成功："
- 链接不只用颜色区分，加下划线或其他样式
- 必填字段不只用红色星号，加文字"必填"或 aria-label
- 图表用不同形状、纹理、标签组合

**原则：色盲用户也能区分不同信息**

---

### 7. 链接和按钮有明确文字 ⚠️ 强制

**交互元素的目的清晰**

- 避免模糊文字：
  - ❌ "点击这里"
  - ❌ "更多"
  - ❌ "阅读更多"
- 使用描述性文字：
  - ✅ "阅读《React 最佳实践》全文"
  - ✅ "查看产品详情"
- 如必须用简短文字，用 aria-label 补充完整描述
- 外部链接标注"在新窗口打开"

**原则：用户不看上下文也能理解链接目的**
